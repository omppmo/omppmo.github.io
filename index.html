<!DOCTYPE html>
<html>
<head hexo-theme='https://volantis.js.org/#2.6.5'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
      
        <meta name="robots" content="index,follow">
      
    
  
  <!-- 渲染优化 -->
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- 页面元数据 -->
  
    <title>omp&#39;s blog</title>
  
  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13/css/all.min.css">
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">

  

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
  

  

  <!-- import link -->
  

  
  
    
<link rel="stylesheet" href="/css/style.css">

  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  <div class="cover-wrapper">
    
      <cover class='cover  full'>
        <div class='cover-body'>
  <div class='a'>
    
    
      <p class="title">omp's blog</p>
    
    
      <p class="subtitle">一个密码学小白的学习之路</p>
    
  </div>
  <div class='b'>
    
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <input type="text" class="input u-search-input" placeholder="" />
          <i class="icon fas fa-search fa-fw"></i>
        </form>
      </div>
    
    <div class='menu navigation'>
      <ul class='cover-list-h'>
        
          
            <li>
              <a class="nav home"
                href="/archives/"
                
                
                id="archives">
                <i class='fas fa-book fa-fw'></i>文档
              </a>
            </li>
          
            <li>
              <a class="nav home"
                href="/"
                
                
                id="home">
                <i class='fas fa-rss fa-fw'></i>博文
              </a>
            </li>
          
        
      </ul>
    </div>
  </div>
</div>

        <div class="scroll-down"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
      </cover>
    
    <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>
<header class="l_header shadow blur">
  <div class='container'>
  <div class='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h'>
        <li><a class="s-comment fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
          
          
            omp's blog
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h'>
          
          
          
            
            
              <li>
                <a class="flat-box" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>

			<ul class='switcher nav-list-h'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="flat-box" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      

<div class='l_main'>
  
  <section class="post-list ">
    
      
        
          
        
          
        
          
        
          
        
          
        
      
    
    
      
        
          <div class='post-wrapper'>
            <article class="post white-box shadow reveal ">
  


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h2 class="title">
    <a href="/2020/05/05/AES/">
      AES加密解密
    </a>
  </h2>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="" rel="nofollow">
    <img src="https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg">
    <p>omp</p>
  </a>
</div>

            
          
            
              
  
  <div class='new-meta-item category'>
    <a href='/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/' rel="nofollow">
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <p>密码学</p>
    </a>
  </div>


            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：May 5, 2020</p>
  </a>
</div>

            
          
            
              

            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      
        <meta name="referrer" content="no-referrer"/>

<p>学习来源：<a href="https://blog.csdn.net/gulang03/article/details/81175854" target="_blank" rel="noopener">https://blog.csdn.net/gulang03/article/details/81175854</a></p>
<p>所有图片来源<a href="https://blog.csdn.net/gulang03/article/details/81175854" target="_blank" rel="noopener">https://blog.csdn.net/gulang03/article/details/81175854</a></p>
<h1 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h1><p>高级加密标准(AES,Advanced Encryption Standard)为最常见的对称加密算法。<br>下面分析一下AES-128的加密过程<br>128即密钥为128位，进行10轮加密，密钥位数不同，加密轮数也不同。</p>
<h2 id="轮密钥加"><a href="#轮密钥加" class="headerlink" title="轮密钥加"></a>轮密钥加</h2><p><img src="https://upload-images.jianshu.io/upload_images/19601162-a400b0cd5249d2dc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219152638324.jpg"><br>图中的W[0],W[1],W[2],W[3]是原始密钥，一列如k0,k1,k2,k3(每个key8位)组成W[0]   (32位字)<br>轮密钥加是将128位轮密钥Ki同状态矩阵(一般地，明文分组用字节为单位的正方形矩阵描述，称为状态矩阵。)中的数据进行逐位异或操作。<br>明文矩阵与状态矩阵的转换：<br><img src="https://upload-images.jianshu.io/upload_images/19601162-8cebeb0a38a431e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219134722812.png"><br>轮密钥加图解：<br><img src="https://upload-images.jianshu.io/upload_images/19601162-75b295e3c76fb9f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170220080512086.png"><br>可以看做是S0,S1,S2,S3组成的32位字与W[0]的异或运算</p>
<h2 id="轮函数"><a href="#轮函数" class="headerlink" title="轮函数"></a>轮函数</h2><p>前九轮分为字节代换，行移位，列混合三步，第10轮没有列混合</p>
<h3 id="字节代换"><a href="#字节代换" class="headerlink" title="字节代换"></a>字节代换</h3><p>根据给出的S盒代换表进行代换<br>将一个字节前四位看作行数，后四位看作列数，找到对应的数字进行代换</p>
<h3 id="行移位"><a href="#行移位" class="headerlink" title="行移位"></a>行移位</h3><p>当密钥长度为128比特时，状态矩阵的第0行左移0字节，第1行左移1字节，第2行左移2字节，第3行左移3字节。<br><img src="https://upload-images.jianshu.io/upload_images/19601162-0e8dbda1dbaaa861.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219174015167.png"></p>
<h3 id="列混合"><a href="#列混合" class="headerlink" title="列混合"></a>列混合</h3><p>列混合需要将状态矩阵与固定的矩阵相乘，此处相乘是基于GF(2^8)上的二元运算,并不是通常意义上的乘法和加法。虽然关于有限域的运算我不会，但是这好像不影响我们理解此处的运算<br><img src="https://upload-images.jianshu.io/upload_images/19601162-9a34cb6c3dfcc89f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219203346436.png"><br>等号右侧左边的矩阵就是固定矩阵，矩阵的相乘究竟是如何运算的呢<br>状态矩阵中的第j列(0 ≤j≤3)的列混合可以表示为下图所示：<br><img src="https://upload-images.jianshu.io/upload_images/19601162-a4141904f538b9e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219203742516.png"><br>从图中可知列混合的新矩阵的第一行第j列元素是固定矩阵中第一行元素与原矩阵第j列元素对应相乘并异或</p>
<h2 id="轮密钥的生成"><a href="#轮密钥的生成" class="headerlink" title="轮密钥的生成"></a>轮密钥的生成</h2><p><img src="https://upload-images.jianshu.io/upload_images/19601162-86e8000fe89d204a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170220082316736.png"><br>有了初始密钥W[0],W[1],W[2],W[3]hou,后面密钥的生成都基于这个规则<br>其中的T函数又分为三步：字循环，字节代换，轮常量异或</p>
<h3 id="字循环"><a href="#字循环" class="headerlink" title="字循环"></a>字循环</h3><p>将1个字中的4个字节循环左移1个字节。即将输入字[b0, b1, b2, b3]变换成[b1,b2,b3,b0]</p>
<h3 id="字节代换-1"><a href="#字节代换-1" class="headerlink" title="字节代换"></a>字节代换</h3><p>使用S盒代换</p>
<h3 id="轮常量异或"><a href="#轮常量异或" class="headerlink" title="轮常量异或"></a>轮常量异或</h3><p><img src="https://upload-images.jianshu.io/upload_images/19601162-c088d299c207f72b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="轮常量.PNG"><br>将字节代换的结果再与每轮相应的轮常量异或</p>
<h2 id="加密与解密"><a href="#加密与解密" class="headerlink" title="加密与解密"></a>加密与解密</h2><p><img src="https://upload-images.jianshu.io/upload_images/19601162-2b0a0b973ed601ed.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20170219161202485.jpg"><br>加密过程与上述标题相同，解密过程与之相反<br>在第一轮中先进行逆行移位，再进行逆字节代换，在第二到十轮中先逆列混合，逆行移位，再逆字节代换</p>

      
    </div>
    
      
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post white-box shadow reveal ">
  


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h2 class="title">
    <a href="/2020/05/05/ntfs%E9%9A%90%E5%86%99/">
      ntfs隐写
    </a>
  </h2>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="" rel="nofollow">
    <img src="https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg">
    <p>omp</p>
  </a>
</div>

            
          
            
              
  
  <div class='new-meta-item category'>
    <a href='/categories/%E6%9D%82%E9%A1%B9/' rel="nofollow">
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <p>杂项</p>
    </a>
  </div>


            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：May 5, 2020</p>
  </a>
</div>

            
          
            
              

            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      
        <meta name="referrer" content="no-referrer"/>

<h1 id="ntfs隐写"><a href="#ntfs隐写" class="headerlink" title="ntfs隐写"></a>ntfs隐写</h1><h2 id="NTFS交换数据流（ADS）简介"><a href="#NTFS交换数据流（ADS）简介" class="headerlink" title="NTFS交换数据流（ADS）简介"></a>NTFS交换数据流（ADS）简介</h2><blockquote>
<p> 在NTFS文件系统中存在着NTFS交换数据流（Alternate Data Streams，简称ADS），这是NTFS磁盘格式的特性之一。每一个文件，都有着主文件流和非主文件流，主文件流能够直接看到；而非主文件流寄宿于主文件流中，无法直接读取，这个非主文件流就是NTFS交换数据流。<br>   ADS的作用在于，它允许一个文件携带着附加的信息。例如，IE浏览器下载文件时，会向文件添加一个数据流，标记该文件来源于外部，即带有风险，那么，在用户打开文件时，就会弹出文件警告提示。再如，在网址收藏中，也会附加一个favicon数据流以存放网站图标。<br> ADS也被用于一些恶意文件隐藏自身,作为后门</p>
</blockquote>
<p>学习戳<a href="https://www.cnblogs.com/Chesky/p/ALTERNATE_DATA_STREAMS.html" target="_blank" rel="noopener">https://www.cnblogs.com/Chesky/p/ALTERNATE_DATA_STREAMS.html</a></p>
<h2 id="提取隐藏文件"><a href="#提取隐藏文件" class="headerlink" title="提取隐藏文件"></a>提取隐藏文件</h2><p>通过看了一些资料，找到了Ntfs Streams Editor这个工具，可以扫描到可疑文件<br><img src="https://upload-images.jianshu.io/upload_images/19601162-79d1842106f967a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="977035-20161116005326607-289849401.png"><br>图片来源：<a href="https://www.cnblogs.com/Chesky/p/ALTERNATE_DATA_STREAMS.html" target="_blank" rel="noopener">https://www.cnblogs.com/Chesky/p/ALTERNATE_DATA_STREAMS.html</a><br>后来又学到了一种可以直接通过DOS命令查看的方法<br><code>dir /r</code>以只读查看文件(这里不知道为什么<code>dir /a:h</code>和<code>dir</code>都不行)<br><img src="https://upload-images.jianshu.io/upload_images/19601162-c25b3d0604557916.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ntfs.PNG"><br>然后输入notepad命令直接查看<br><code>notepad 293.txt:flag.txt</code></p>

      
    </div>
    
      
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post white-box shadow reveal ">
  


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h2 class="title">
    <a href="/2020/05/05/LSB%E9%9A%90%E5%86%99/">
      LSB隐写
    </a>
  </h2>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="" rel="nofollow">
    <img src="https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg">
    <p>omp</p>
  </a>
</div>

            
          
            
              
  
  <div class='new-meta-item category'>
    <a href='/categories/%E6%9D%82%E9%A1%B9/' rel="nofollow">
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <p>杂项</p>
    </a>
  </div>


            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：May 5, 2020</p>
  </a>
</div>

            
          
            
              

            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      
        <meta name="referrer" content="no-referrer"/>

<h1 id="LSB隐写"><a href="#LSB隐写" class="headerlink" title="LSB隐写"></a>LSB隐写</h1><p>LSB即最低有效位</p>
<blockquote>
<p>png图片是一种无损压缩的位图片形格式，也只有在无损压缩或者无压缩的图片（BMP）上实现lsb隐写,jpg图片对像数进行了有损压缩，我们修改的信息就可能会在压缩的过程中被破坏。</p>
</blockquote>
<p>png图片由RGB三原色红绿蓝组成，每一种颜色占用8位，取值范围为0x00~0xFF，即有256种颜色。<br>LSB隐写就是修改RGB颜色分量的最低二进制位也就是最低有效位，每个像数可以携带3比特的信息。</p>
<h2 id="解题方法"><a href="#解题方法" class="headerlink" title="解题方法"></a>解题方法</h2><p>把图片拖进stegsolve,选中red,green,blue的最低0位，然后右侧选中LSB First，然后Save Bin<br><img src="https://upload-images.jianshu.io/upload_images/19601162-dce61a51902b6044.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="lsb.png"><br>以记事本形式打开文件，就可以找到flag了</p>

      
    </div>
    
      
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post white-box shadow reveal ">
  


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h2 class="title">
    <a href="/2020/05/05/base64%E9%9A%90%E5%86%99/">
      base64隐写
    </a>
  </h2>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="" rel="nofollow">
    <img src="https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg">
    <p>omp</p>
  </a>
</div>

            
          
            
              
  
  <div class='new-meta-item category'>
    <a href='/categories/%E6%9D%82%E9%A1%B9/' rel="nofollow">
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <p>杂项</p>
    </a>
  </div>


            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：May 5, 2020</p>
  </a>
</div>

            
          
            
              

            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      
        <meta name="referrer" content="no-referrer"/>

<p>因为太菜了所以写不出脚本，找到了一位师傅写的好好分析一下</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>base64隐写只能用于有两个等号和有一个等号的情况<br><img src="https://upload-images.jianshu.io/upload_images/19601162-be8b316f572880c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20180917030350894.png!blog.png"></p>
<p>有两个等号的可以隐藏四位，当Base64解码时，这隐藏的四位会抹去<br>同理，有一个等号的能隐藏两位<br><img src="https://upload-images.jianshu.io/upload_images/19601162-908dc5e782022fd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20190517212307382.jpg.png"></p>
<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><p>学习来源<a href="https://www.jianshu.com/p/f1f4e10ad10e" target="_blank" rel="noopener">https://www.jianshu.com/p/f1f4e10ad10e</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">import base64</span><br><span class="line"></span><br><span class="line">b64chars &#x3D; &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+&#x2F;&#39;</span><br><span class="line"></span><br><span class="line"># ccc.txt为待解密的base64隐写字符串所在的文件</span><br><span class="line">f &#x3D; open(&#39;ccc.txt&#39;,&#39;r&#39;)</span><br><span class="line">base64str &#x3D; f.readline()</span><br><span class="line"></span><br><span class="line"># pattern2用于匹配两个等号情况时，等号前的一个字符</span><br><span class="line"># pattern2用于匹配一个等号情况时，等号前的一个字符</span><br><span class="line">pattern2 &#x3D; r&#39;(\S)&#x3D;&#x3D;$&#39;</span><br><span class="line">pattern1 &#x3D; r&#39;(\S)&#x3D;$&#39;</span><br><span class="line"></span><br><span class="line"># 提取后的隐写二进制字符加入binstring中</span><br><span class="line">binstring &#x3D; &#39;&#39;</span><br><span class="line"></span><br><span class="line"># 逐行读取待解密的base64隐写字符串，逐行处理</span><br><span class="line">while(base64str):</span><br><span class="line">    # 先匹配两个等号的情况，如果匹配不上，再配置一个等号的情况</span><br><span class="line">    # 如果无等号，则没有隐藏，无需处理</span><br><span class="line">    if re.compile(pattern2).findall(base64str):</span><br><span class="line">        # mstr为等号前的一个字符，该字符为隐写二进制信息所在的字符</span><br><span class="line">        mstr &#x3D; re.compile(pattern2).findall(base64str)[0]</span><br><span class="line">        # 确认mstr字符对应的base64二进制数，赋值给mbin</span><br><span class="line">        mbin &#x3D; bin(b64chars.find(mstr))</span><br><span class="line">        # mbin格式如0b100，mbin[0:2]为0b</span><br><span class="line">        # mbin[2:].zfill(6)为将0b后面的二进制数前面补0，使0b后面的长度为6</span><br><span class="line">        mbin2 &#x3D; mbin[0:2] + mbin[2:].zfill(6)</span><br><span class="line">        # 两个等号情况隐写了4位二进制数，所以提取mbin2的后4bit</span><br><span class="line">        # 赋值给stegobin，这就是隐藏的二进制信息</span><br><span class="line">        stegobin &#x3D; mbin2[-4:]</span><br><span class="line">        binstring +&#x3D; stegobin</span><br><span class="line">    elif re.compile(pattern1).findall(base64str):</span><br><span class="line">        mstr &#x3D; re.compile(pattern1).findall(base64str)[0]</span><br><span class="line">        mbin &#x3D; bin(b64chars.find(mstr))</span><br><span class="line">        mbin2 &#x3D; mbin[0:2] + mbin[2:].zfill(6)</span><br><span class="line">        # 一个等号情况隐写了2位二进制数，所以提取mbin2的后2bit</span><br><span class="line">        stegobin &#x3D; mbin2[-2:]</span><br><span class="line">        binstring +&#x3D; stegobin</span><br><span class="line">    base64str &#x3D; f.readline()</span><br><span class="line"></span><br><span class="line"># stegobin将各行隐藏的二进制字符拼接在一起</span><br><span class="line"># 从第0位开始，8bit、8bit处理，所以range的步进为8</span><br><span class="line">for i in range(0,len(binstring),8):</span><br><span class="line">    # int(xxx,2)，将二进制字符串转换为10进制的整数，再用chr()转为字符</span><br><span class="line">    print(chr(int(binstring[i:i+8],2)),end&#x3D;&#39;&#39;)</span><br></pre></td></tr></table></figure>

<h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><h4 id="readline-方法"><a href="#readline-方法" class="headerlink" title="readline()方法"></a>readline()方法</h4><p>read() 读取整个文件，将文件内容放到一个字符串变量中<br>readline() readline()方法每次读取一行；返回的是一个字符串对象<br>readlines() 读取整个文件所有行，保存在一个列表(list)变量中，每行作为一个元素</p>
<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><blockquote>
<p>正则表达式是一个特殊的字符序列，它能帮助你方便的检查一个字符串是否与某种模式匹配。<br>re 模块使 Python 语言拥有全部的正则表达式功能。 </p>
</blockquote>
<p>一般在正则表达式之前加r，防止字符转义</p>
<h5 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h5><p>1.”\s”：匹配空格<br>改成大写后，意思与原来相反<br> “\S”   匹配任意不是空白符的字符<br>2.元字符^ 与$<br> ^  ：^ 会匹配行或者字符串的起始位置，有时还会匹配整个文档的起始位置。<br> $ ：$ 会匹配行或字符串的结尾<br>详细用法<a href="https://www.cnblogs.com/zery/p/3438845.html]https://www.cnblogs.com/zery/p/3438845.html" target="_blank" rel="noopener">https://www.cnblogs.com/zery/p/3438845.html]https://www.cnblogs.com/zery/p/3438845.html</a></p>
<h5 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h5><h6 id="compile-函数"><a href="#compile-函数" class="headerlink" title="compile()函数"></a>compile()函数</h6><p>compile()函数的定义中，可以看出返回的是一个匹配对象，它单独使用就没有任何意义，需要和findall(), search(), match(）搭配使用<br>compile()与findall()一起使用，返回一个列表。</p>
<p>在百度上看到的一个例子</p>
<blockquote>
<p>使用re的一般步骤是先使用re.compile()函数，将正则表达式的字符串形式编译为Pattern实例，然后使用Pattern实例处理文本并获得匹配结果（一个Match实例），最后使用Match实例获得信息，进行其他的操作。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">pattern &#x3D; re.compile(&#39;[a-zA-Z]&#39;)</span><br><span class="line">result &#x3D; pattern.findall(&#39;as3SiOPdj#@23awe&#39;)</span><br><span class="line">print result</span><br><span class="line"># [&#39;a&#39;, &#39;s&#39;, &#39;S&#39;, &#39;i&#39;, &#39;O&#39;, &#39;P&#39;, &#39;d&#39;, &#39;j&#39;, &#39;a&#39;, &#39;w&#39;, &#39;e&#39;]</span><br></pre></td></tr></table></figure>

<p>试了一下，原来re.compile(pattern2).findall(base64str)返回的列表中只有等号前字母一个元素<br>详细用法[<a href="https://blog.csdn.net/Darkman_EX/article/details/80973656]https://blog.csdn.net/Darkman_EX/article/details/80973656" target="_blank" rel="noopener">https://blog.csdn.net/Darkman_EX/article/details/80973656]https://blog.csdn.net/Darkman_EX/article/details/80973656</a></p>
<h4 id="zfill-方法"><a href="#zfill-方法" class="headerlink" title="zfill()方法"></a>zfill()方法</h4><p>用法  <code>str.zfill(width)</code><br>width – 指定字符串的长度。原字符串右对齐，前面填充0。</p>

      
    </div>
    
      
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post white-box shadow reveal ">
  


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h2 class="title">
    <a href="/2020/02/24/%E5%87%A0%E7%A7%8D%E7%BC%96%E7%A0%81%E7%9A%84%E5%AD%A6%E4%B9%A0/">
      几种编码的的学习
    </a>
  </h2>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="" rel="nofollow">
    <img src="https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg">
    <p>omp</p>
  </a>
</div>

            
          
            
              
  
  <div class='new-meta-item category'>
    <a href='/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/' rel="nofollow">
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <p>密码学</p>
    </a>
  </div>


            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：Feb 24, 2020</p>
  </a>
</div>

            
          
            
              

            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天做题时发现一段乱码解不了密，一开始以为是编码的原因，结果是没有以二进制的形式打开，但还是学习了这些编码的区别和联系</p>
<h2 id="一-ANSI-GBK-UTF"><a href="#一-ANSI-GBK-UTF" class="headerlink" title="一.ANSI,GBK,UTF"></a>一.ANSI,GBK,UTF</h2><p>学习来源:<a href="https://blog.csdn.net/qq_32087569/article/details/81946930" target="_blank" rel="noopener">https://blog.csdn.net/qq_32087569/article/details/81946930</a></p>
<h3 id="ANSI"><a href="#ANSI" class="headerlink" title="ANSI"></a>ANSI</h3><p>首先出现的是ASCII码，ANSI编码是一种对ASCII码的拓展,ANSI码仅在前126个与ASCII码相同，之后的字符全是某个国家语言的所有字符。</p>
<blockquote>
<p>还有ANSI编码其实包括很多编码：中国制定了GB2312编码，用来把中文编进去另外，日本把日文编到Shift_JIS里，韩国把韩文编到Euc-kr里，各国有各国的标准。受制于当时的条件，不同语言之间的ANSI码之间不能互相转换，这就会导致在多语言混合的文本中会有乱码。</p>
</blockquote>
<h3 id="GB2312-GBK-GB18030"><a href="#GB2312-GBK-GB18030" class="headerlink" title="GB2312 ,GBK,GB18030"></a>GB2312 ,GBK,GB18030</h3><p>GB2312 是对ANSI的中文扩展。<br>GBK 包括了 GB2312 的所有内容，同时又增加了近20000个新的汉字（包括繁体字）和符号。<br>再后来，GBK 扩成了 GB18030。</p>
<h3 id="UTF与unicode"><a href="#UTF与unicode" class="headerlink" title="UTF与unicode"></a>UTF与unicode</h3><blockquote>
<p>Unicode为了解决不同国家ANSI编码的冲突问题<br>UTF-8/16(8/16-bit Unicode Transformation Format):用于传输的unicode编码</p>
</blockquote>
<blockquote>
<p>Unicode（UCS）只是一个字符集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储。<br>UTF（Unicode Translation Format），它是 Unicode （UCS）的实现（或存储）方式，称为 Unicode 转换格式。Unicode 的实现方式不同于编码方式。一个字符的 Unicode 编码是确定的。但是在实际传输过程中，由于不同系统平台的设计不一定一致，以及出于节省空间的目的，对 Unicode 编码的实现方式有所不同。<br>————————————————<br>版权声明：本文为CSDN博主「借我安适的清晨与傍晚」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_32087569/article/details/81946930" target="_blank" rel="noopener">https://blog.csdn.net/qq_32087569/article/details/81946930</a></p>
</blockquote>
<h2 id="utf-8-16-32"><a href="#utf-8-16-32" class="headerlink" title="utf-8/16/32"></a>utf-8/16/32</h2><p>UTF-8,UTF-16,UTF-32;<br>使用最广泛的是 UTF-8 方案，UTF-8 使用可变长度字节来储存 Unicode 字符;<br>UTF-16,UTF-32都是用的定长来表示字符</p>
<h2 id="二-UUENCODE与MIME编码"><a href="#二-UUENCODE与MIME编码" class="headerlink" title="二.UUENCODE与MIME编码"></a>二.UUENCODE与MIME编码</h2><p>最近做的题正好遇到这两种，也记录一下。</p>
<h3 id="UUENCODE"><a href="#UUENCODE" class="headerlink" title="UUENCODE"></a>UUENCODE</h3><p>UU编码学习戳<a href="http://blog.chacuo.net/753.html" target="_blank" rel="noopener">http://blog.chacuo.net/753.html</a><br>定义了用可打印字符表示二进制文字一种方法，并不是一种新的编码集合。主要解决，二进制字符在传输、存储中问题。它早期在电子邮件中使用较多，最近这些年来基本上被MIME 中Base64所取代了。</p>
<h4 id="编码过程"><a href="#编码过程" class="headerlink" title="编码过程"></a>编码过程</h4><p>Uuencode将输入资料以每三个字节为单位进行编码，如此重复进行。如果最后剩下的资料少于三个字节，不够的部份用零补齐。这三个字节共有24个Bit，以6-bit为单位分为4个群组，每个群组以十进制来表示所出现的数值只会落在0到63之间。将每个数加上32，所产生的结果刚好落在ASCII字符集中可打印字符（32-空白…95-底线）的范围之中。<br>与base64的区别是UU编码后直接加上32找到对应的ASCII，而base64是通过映射表对照的</p>
<h3 id="MIME编码"><a href="#MIME编码" class="headerlink" title="MIME编码"></a>MIME编码</h3><p>MIME编码学习戳<a href="https://www.cnblogs.com/upzone/archive/2007/04/09/705286.html" target="_blank" rel="noopener">https://www.cnblogs.com/upzone/archive/2007/04/09/705286.html</a></p>
<blockquote>
<p>对邮件进行编码最初的原因是因为 Internet 上的很多网关不能正确传输8bit内码的字符，比如汉字等。编码的原理就是把8bit的内容转换成7bit的形式以能正确传输，在接收方收到之后，再将其还原成8bit的内容。<br>在MIME协议之前，邮件的编码曾经有过UUENCODE等编码方式 ，但是由于MIME协议算法简单，并且易于扩展，现在已经成为邮件编码方式的主流，不仅是用来传输8bit的字符，也可以用来传送二进制的文件，如邮件附件中的图像、音频等信息，而且扩展了很多基于MIME 的应用。目前http协议中，很多采用MIME框架。</p>
</blockquote>
<p>MIME定义了两种编码方法Base64与QP(Quote-Printable)</p>
<h4 id="QP编码"><a href="#QP编码" class="headerlink" title="QP编码"></a>QP编码</h4><p>QP编码学习戳<a href="https://www.cnblogs.com/xd502djj/p/4290470.html" target="_blank" rel="noopener">https://www.cnblogs.com/xd502djj/p/4290470.html</a><br>它是多用途互联网邮件扩展（MIME) 一种实现方式。<br>形式类似于这种”=B9=A4=D7=F7=BC=F2=B1=A8”,quoted-printable 就是说用一些可打印常用字符，表示一个字节（8位）中所有非打印字符方法。</p>
<h5 id="编码过程-1"><a href="#编码过程-1" class="headerlink" title="编码过程"></a>编码过程</h5><p>在所有ASCII码可打印字符中(33到126)和换行符都可以直接使用ASCII码表示而不用在前面加等号，除了“=”号必须使用”=3D”</p>
<h6 id="BUU上的一道QP编码"><a href="#BUU上的一道QP编码" class="headerlink" title="BUU上的一道QP编码"></a>BUU上的一道QP编码</h6><p>=E9=82=A3=E4=BD=A0=E4=B9=9F=E5=BE=88=E6=A3=92=E5=93=A6<br>每三字节编码成为一个汉字，解码为“那你也很棒哦”</p>

      
    </div>
    
      
    
  </section>
</article>

          </div>
        
      
    
  </section>
  
    
    <!-- 根据主题中的设置决定是否在archive中针对摘要部分的MathJax公式加载mathjax.js文件 -->
    
    

  


</div>
<aside class='l_side'>
  
  
    
    

<section class="widget blogger shadow desktop mobile">
  <div class='content'>
    
      
        <a class='avatar flat-box' href='/about/'>
          <img no-lazy src='https://ae01.alicdn.com/kf/H68ac7f1be81b4260813ba8136aef8160J.jpg'/>
        </a>
      
    
    
      <div class='text'>
        
        
        
          <p><span id="jinrishici-sentence">omp's blog</span></p>
          <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:me@xaoxuu.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/xaoxuu"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=63035382"
              class="social fas fa-headphones-alt flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

  

  
    
    
  

  <section class="widget category shadow desktop">
    
  <header>
    
      <a href='/blog/categories/'><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i><span class='name'>文章分类</span></a>
    
  </header>


    <div class='content'>
      <ul class="entry navigation">
        
          <li><a class="flat-box"
            title="/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/" href="/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"
            id="categoriesE5AF86E7A081E5ADA6"
            ><div class='name'>密码学</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box"
            title="/categories/%E6%9D%82%E9%A1%B9/" href="/categories/%E6%9D%82%E9%A1%B9/"
            id="categoriesE69D82E9A1B9"
            ><div class='name'>杂项</div><div class='badge'>(3)</div></a></li>
        
      </ul>
    </div>
  </section>


  

  
    
    
  

  <section class="widget tagcloud shadow desktop mobile">
    
  <header>
    
      <a href='/blog/tags/'><i class="fas fa-tags fa-fw" aria-hidden="true"></i><span class='name'>热门标签</span></a>
    
  </header>


    <div class='content'>
      <a href="/tags/AES/" style="font-size: 14px; color: #999">AES</a> <a href="/tags/%E6%9D%82%E9%A1%B9/" style="font-size: 24px; color: #555">杂项</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 14px; color: #999">编码</a>
    </div>
  </section>


  

  


</aside>


  
  <footer class="clearfix">
    <br><br>
    
      
        <div class="aplayer-container">
          

  
    <meting-js
      theme='#1BCDFC'
      autoplay='true'
      volume='0.7'
      loop='all'
      order='list'
      fixed='false'
      list-max-height='340px'
      server='netease'
      type='playlist'
      id='5003515934'
      list-folded='true'>
    </meting-js>
  


        </div>
      
    
      
        <br>
        <div class="social-wrapper">
          
            
              <a href="/atom.xml"
                class="social fas fa-rss flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="mailto:me@xaoxuu.com"
                class="social fas fa-envelope flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="https://github.com/xaoxuu"
                class="social fab fa-github flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="https://music.163.com/#/user/home?id=63035382"
                class="social fas fa-headphones-alt flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
        </div>
      
    
      
        <div><p>Blog content follows the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
      
    
      
        Use
        <a href="https://volantis.js.org/" target="_blank" class="codename">Volantis</a>
        as theme, total visits
          <span id="busuanzi_value_site_pv"><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span>
          times
        
      
    
      
        <div class='copyright'>
        <p><a href="https://xaoxuu.com" target="_blank" rel="noopener">Copyright © 2017-2020 Mr. X</a></p>

        </div>
      
    
  </footer>

<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4/dist/jquery.min.js"></script>


  <script>
    
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/" || "/";
    if (!ROOT.endsWith('/')) ROOT += '/';
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/instant_page.js" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>


  <script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.6/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      ScrollReveal().reveal('.l_main .reveal', {
        distance: '8px',
        duration: '800',
        interval: '100',
        scale: '1'
      });
    });
  </script>


  
<script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>

  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>



  
  
  
    
<script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script>

    <script type="text/javascript">
      $(function(){
        var imgs=["https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"];
        if ('true' == 'true') {
          function shuffle(arr){
            /*From countercurrent-time*/
            var n = arr.length;
            while(n--) {
              var index = Math.floor(Math.random() * n);
              var temp = arr[index];
              arr[index] = arr[n];
              arr[n] = temp;
            }
          }
          shuffle(imgs);
        }
        if ('') {
          $('').backstretch(
            imgs,
          {
            duration: "20000",
            fade: "1500"
          });
        } else {
          $.backstretch(
            imgs,
          {
            duration: "20000",
            fade: "1500"
          });
        }
      });
    </script>
  



  
    
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>

  
    
<script src="https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js"></script>

  













  
<script src="/js/app.js"></script>



  
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2.6.5/js/search.js"></script>



  
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/comment_typing.js"></script>






<!-- 复制 -->

  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('fa-copy');
        $icon.addClass('fa-check-circle');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('fa-check-circle');
          $icon.addClass('fa-copy');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('fa-copy');
        $icon.addClass('fa-times-circle');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('fa-times-circle');
          $icon.addClass('fa-copy');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>




<!-- fancybox -->

  <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("div.fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>






  <script>setLoadingBarProgress(100);</script>
<script src="/node_modules/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"node_modules/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/node_modules/assets/miku.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
